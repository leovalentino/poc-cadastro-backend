;             
CREATE USER IF NOT EXISTS SA SALT 'ea2174b04446298e' HASH '0701bc61b53c4717303ba86c5504972c9883a534259c06bfebe2d4c5276ac1fd' ADMIN;           
CREATE SEQUENCE PUBLIC.HIBERNATE_SEQUENCE START WITH 3;       
CREATE CACHED TABLE PUBLIC.CLIENTE(
    IDCLIENTE INTEGER NOT NULL,
    CPF VARCHAR(255),
    NOME VARCHAR(255),
    ENDERECO_IDENDERECO INTEGER
);      
ALTER TABLE PUBLIC.CLIENTE ADD CONSTRAINT PUBLIC.CONSTRAINT_5 PRIMARY KEY(IDCLIENTE);         
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CLIENTE; 
CREATE CACHED TABLE PUBLIC.CLIENTE_EMAILS(
    CLIENTE_IDCLIENTE INTEGER NOT NULL,
    EMAILS_CODEMAIL INTEGER NOT NULL
); 
ALTER TABLE PUBLIC.CLIENTE_EMAILS ADD CONSTRAINT PUBLIC.CONSTRAINT_6 PRIMARY KEY(CLIENTE_IDCLIENTE, EMAILS_CODEMAIL);         
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CLIENTE_EMAILS;          
CREATE CACHED TABLE PUBLIC.CLIENTE_TELEFONES(
    CLIENTE_IDCLIENTE INTEGER NOT NULL,
    TELEFONES_CODTELEFONE INTEGER NOT NULL
);        
ALTER TABLE PUBLIC.CLIENTE_TELEFONES ADD CONSTRAINT PUBLIC.CONSTRAINT_63 PRIMARY KEY(CLIENTE_IDCLIENTE, TELEFONES_CODTELEFONE);               
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CLIENTE_TELEFONES;       
CREATE CACHED TABLE PUBLIC.EMAIL(
    CODEMAIL INTEGER NOT NULL,
    ENDERECOEMAIL VARCHAR(255)
);         
ALTER TABLE PUBLIC.EMAIL ADD CONSTRAINT PUBLIC.CONSTRAINT_3 PRIMARY KEY(CODEMAIL);            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.EMAIL;   
CREATE CACHED TABLE PUBLIC.ENDERECO(
    IDENDERECO INTEGER NOT NULL,
    BAIRRO VARCHAR(255),
    CEP VARCHAR(255),
    CIDADE VARCHAR(255),
    COMPLEMENTO VARCHAR(255),
    LOGRADOURO VARCHAR(255),
    UF VARCHAR(255)
);       
ALTER TABLE PUBLIC.ENDERECO ADD CONSTRAINT PUBLIC.CONSTRAINT_9 PRIMARY KEY(IDENDERECO);       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ENDERECO;
CREATE CACHED TABLE PUBLIC.PERFILUSUARIO(
    ID_PERFIL_USUARIO INTEGER NOT NULL,
    PERFIL VARCHAR(255)
);               
ALTER TABLE PUBLIC.PERFILUSUARIO ADD CONSTRAINT PUBLIC.CONSTRAINT_5A PRIMARY KEY(ID_PERFIL_USUARIO);          
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.PERFILUSUARIO;           
INSERT INTO PUBLIC.PERFILUSUARIO(ID_PERFIL_USUARIO, PERFIL) VALUES
(1, 'ADMINISTRADOR'),
(2, 'FUNCIONARIO');
CREATE CACHED TABLE PUBLIC.TELEFONE(
    CODTELEFONE INTEGER NOT NULL,
    NUMERO VARCHAR(255),
    TIPOTELEFONE INTEGER
);               
ALTER TABLE PUBLIC.TELEFONE ADD CONSTRAINT PUBLIC.CONSTRAINT_D PRIMARY KEY(CODTELEFONE);      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TELEFONE;
CREATE CACHED TABLE PUBLIC.USUARIO(
    IDUSUARIO INTEGER NOT NULL,
    LOGIN VARCHAR(255),
    SENHA VARCHAR(255)
);     
ALTER TABLE PUBLIC.USUARIO ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(IDUSUARIO);         
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO; 
INSERT INTO PUBLIC.USUARIO(IDUSUARIO, LOGIN, SENHA) VALUES
(1, STRINGDECODE('Usu\u00e1rio admin'), '$2a$10$zDOin6qKMSsrHhTLCn1Rxe/CZBZ8XpUjGgIx/c.ijSSuE4YAZVqWK'),
(2, STRINGDECODE('Usu\u00e1rio comum'), '$2a$10$FRiFLnVoAxbkifLithaEZ.PgKyr3acjtBlajaE6nCI5uK8TQjKkyW');
CREATE CACHED TABLE PUBLIC.USUARIO_PERFIL(
    USUARIO_ID INTEGER NOT NULL,
    PERFIL_ID INTEGER NOT NULL
);              
ALTER TABLE PUBLIC.USUARIO_PERFIL ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(USUARIO_ID, PERFIL_ID);      
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO_PERFIL;          
INSERT INTO PUBLIC.USUARIO_PERFIL(USUARIO_ID, PERFIL_ID) VALUES
(1, 1),
(2, 1);             
ALTER TABLE PUBLIC.PERFILUSUARIO ADD CONSTRAINT PUBLIC.UK_7EC6JUCMBYQ4THVGJLPKLOWX8 UNIQUE(PERFIL);           
ALTER TABLE PUBLIC.CLIENTE_TELEFONES ADD CONSTRAINT PUBLIC.UK_PVWM0QUVKK3EKN2OGENBQSWTT UNIQUE(TELEFONES_CODTELEFONE);        
ALTER TABLE PUBLIC.CLIENTE_EMAILS ADD CONSTRAINT PUBLIC.UK_MBV1HU1NLAJGB8ITMVYVH54NK UNIQUE(EMAILS_CODEMAIL); 
ALTER TABLE PUBLIC.CLIENTE_TELEFONES ADD CONSTRAINT PUBLIC.FKEK1I2VH4UBGHM1F2E5T2ULCAV FOREIGN KEY(TELEFONES_CODTELEFONE) REFERENCES PUBLIC.TELEFONE(CODTELEFONE) NOCHECK;    
ALTER TABLE PUBLIC.USUARIO_PERFIL ADD CONSTRAINT PUBLIC.FKM9TY9E2QYW21QDPUV6402GJFT FOREIGN KEY(PERFIL_ID) REFERENCES PUBLIC.PERFILUSUARIO(ID_PERFIL_USUARIO) NOCHECK;        
ALTER TABLE PUBLIC.USUARIO_PERFIL ADD CONSTRAINT PUBLIC.FKNRJQNBYLALT4YKXBCEF24F57W FOREIGN KEY(USUARIO_ID) REFERENCES PUBLIC.USUARIO(IDUSUARIO) NOCHECK;     
ALTER TABLE PUBLIC.CLIENTE ADD CONSTRAINT PUBLIC.FKILWNIRL4XN40RQM5JS87CGPHH FOREIGN KEY(ENDERECO_IDENDERECO) REFERENCES PUBLIC.ENDERECO(IDENDERECO) NOCHECK; 
ALTER TABLE PUBLIC.CLIENTE_EMAILS ADD CONSTRAINT PUBLIC.FKMJQGAEP9QUOQXF6DU744W6HFL FOREIGN KEY(EMAILS_CODEMAIL) REFERENCES PUBLIC.EMAIL(CODEMAIL) NOCHECK;   
ALTER TABLE PUBLIC.CLIENTE_EMAILS ADD CONSTRAINT PUBLIC.FKANX4BIM0FC5S88IRBGL7R0TTJ FOREIGN KEY(CLIENTE_IDCLIENTE) REFERENCES PUBLIC.CLIENTE(IDCLIENTE) NOCHECK;              
ALTER TABLE PUBLIC.CLIENTE_TELEFONES ADD CONSTRAINT PUBLIC.FKD2OL68VLJYI0UEDR8BYNCXRHQ FOREIGN KEY(CLIENTE_IDCLIENTE) REFERENCES PUBLIC.CLIENTE(IDCLIENTE) NOCHECK;           
